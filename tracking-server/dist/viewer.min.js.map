{"version":3,"sources":["viewer.js"],"names":["CONFIG","APIs","log","timeUnload","scrollPercentage","updateUserInfo","getLocalStorage","cname","Storage","localStorage","getItem","async","newHref","window","location","href","dosiInfo","oldHref","performance","navigation","type","TYPE_RELOAD","isClick","oldUrl","referrer","userAgent","navigator","browserResolution","width","outerWidth","height","outerHeight","isNewUser","uuid","setItem","websiteCode","splitString","document","getElementById","src","replace","split","length","e","getKey","info","ip","isPrivateBrowsing","screenResolution","createdAt","Date","getTime","json","JSON","stringify","res","fetch","method","credentials","headers","Content-type","body","data","logId","onUnload","timeOnPage","TimeMe","getTimeOnCurrentPageInSeconds","oldTimeOnPage","newTimeOnPage","url","$","ajax","PrivateWindow","Promise","n","vendor","indexOf","safariIncognito","openDatabase","includes","t","indexedDB","open","onerror","onsuccess","PointerEvent","MSPointerEvent","match","map","parseInt","isNewChrome","storage","usage","quota","estimate","chrome76Detection","RequestFileSystem","webkitRequestFileSystem","TEMPORARY","checkPrivate","is_private","then","newScroll","oldScroll","dt","c","r","Math","random","floor","toString","createUUID","screen","files","all","file","resolve","filename","filetype","node","createElement","setAttribute","onload","getElementsByTagName","appendChild","loadMultiFiles","initialize","currentPageName","idleTimeoutInSeconds","setInterval","ready","scroll","scrollPercent","scrollTop","scrollPercentRounded","round","detectScroll","getIp","onunload","preventDefault","addEventListener","userInfo","updateUser"],"mappings":"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","file":"viewer.min.js","sourcesContent":["(function(){'use strict';\r\nconst CONFIG = {\n  hostApi: '//viewer.backend.dosi-in.vn',\n  localStorageDosi: '_dosi_info_viewer'\n};;\r\nconst APIs = {\n  log: CONFIG.hostApi + '/api/user-behaviors/log',\n  timeUnload: CONFIG.hostApi + '/api/user-behaviors/log/:id/time-unload',\n  scrollPercentage: CONFIG.hostApi + '/api/user-behaviors/log/:id/scroll-percentage',\n  updateUserInfo: CONFIG.hostApi + '/api/user-info/:id/'\n};;\r\nconst createUUID = () => {\n  let dt = new Date().getTime();\n  const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n      const r = (dt + Math.random() * 16) % 16 | 0;\n      dt = Math.floor(dt/16);\n      return (c == 'x' ? r : (r&0x3|0x8)).toString(16);\n  });\n  return uuid;\n};;\r\nconst detectScroll = async() => {\n  try{\n    if(logId)\n    {\n      if(newScroll > oldScroll)\n      {\n        oldScroll = newScroll;\n        \n        const url = APIs.scrollPercentage.replace(':id', logId);\n        const body = {\n          scroll: newScroll\n        };\n    \n        $.ajax({\n          type: 'PUT',\n          async: true,\n          url: url,\n          data: body\n        });\n      }\n    }\n  }catch(e){\n    return;\n  }\n};;\r\nconst getIp = async () => {\r\n  try{\r\n    const res = await fetch('https://api64.ipify.org/?format=json');\r\n    const data = await res.json();\r\n\r\n    if(!data){\r\n      return \"\";\r\n    }\r\n\r\n    return data.ip ? data.ip : \"\";\r\n  }catch(e){\r\n    return \"\";\r\n  }\r\n};;\r\nconst getKey = () => {\n  try{\n    const scripts = document.getElementById('dosi_viewer').src || \"\";\n    const queryString = scripts.replace(/^[^\\?]+\\??/,'');\n    const splitString = queryString.split('=');\n\n    if(splitString.length > 0){\n      const key = splitString[1].replace(' ', '');\n      return key;\n    }\n\n    return '';\n  }catch(e){\n    return '';\n  }\n};;\r\nconst getLocalStorage = (cname) => {\r\n  if (typeof Storage !== 'undefined') {\r\n    if (!localStorage.getItem(cname)) {\r\n      return '';\r\n    } else {\r\n      return localStorage.getItem(cname);\r\n    }\r\n  }\r\n\r\n  return '';\r\n};;\r\nfunction loadCDNFile(filename, filetype) {\n  return new Promise((resolve) => {\n    if (filetype == 'js') {\n      var node = document.createElement('script');\n      node.setAttribute('type', 'text/javascript');\n      node.setAttribute('src', filename);\n    } else if (filetype == 'css') {\n      var node = document.createElement('link');\n      node.setAttribute('rel', 'stylesheet');\n      node.setAttribute('type', 'text/css');\n      node.setAttribute('href', filename);\n    }\n  \n    node.onload = function() {\n      return resolve();\n    };\n  \n    if (typeof node != 'undefined') {\n      document.getElementsByTagName('head')[0].appendChild(node)\n    }\n  });\n}\n\n/**\n * \n * @param {[{filename: string, filetype: string}]} files \n */\nasync function loadMultiFiles(files) {\n  return Promise.all(files.map(async file => {\n    if (file !== null) {\n      await loadCDNFile(file.filename, file.filetype);\n    } else {\n      return Promise.resolve();\n    }\n  }));\n};\r\nconst log = async () => {\n  try {\n    newHref = window.location.href;\n    dosiInfo = getLocalStorage(CONFIG.localStorageDosi);\n\n    if(oldHref != newHref){\n      oldHref = newHref;\n\n      //check page reload\n      if(window.performance)\n      {\n        if(performance.navigation.type == performance.navigation.TYPE_RELOAD)\n        {\n          isClick = false;\n        }\n      }\n      \n      if (window.location.href == oldUrl) {\n        return;\n      }\n      // set referrer\n      let referrer = oldUrl;\n\n      // assign current url to oldUrl\n      oldUrl = window.location.href;\n      const userAgent = window.navigator.userAgent;\n      const href = newHref;\n\n      browserResolution.width = window.outerWidth;\n      browserResolution.height = window.outerHeight;\n      let isNewUser = false;\n\n      if (typeof Storage !== 'undefined') {\n        if (!localStorage.getItem('uuid')) {\n          localStorage.setItem('uuid', uuid);\n          isNewUser = true;\n        } else {\n          uuid = localStorage.getItem('uuid');\n        }\n      }else{\n        isNewUser = true;\n      }\n\n      const websiteCode = getKey()\n      let info = {\n        websiteCode,\n        ip,\n        uuid,\n        href,\n        referrer,\n        userAgent,\n        isPrivateBrowsing,\n        browserResolution,\n        screenResolution,\n        isClick,\n        isNewUser,\n        createdAt: new Date().getTime()\n      };\n\n      if(dosiInfo != ''){\n        info['dosiInfo'] = dosiInfo;\n      }\n\n      if(websiteCode != '')\n      {\n        let json = JSON.stringify(info);\n        const res = await fetch(APIs.log, {\n          method: 'post',\n          credentials: 'include',\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: json\n        });\n        const data = await res.json();\n        logId = data.data.logId;\n      }else{\n        return;\n      }\n\n      return;\n    }\n\n    return;\n  } catch (e) {\n    return;\n  }\n};;\r\nconst onUnload = async () => {\n  if (!logId) {\n    return;\n  }\n\n  let timeOnPage = TimeMe.getTimeOnCurrentPageInSeconds();\n  oldTimeOnPage = timeOnPage > newTimeOnPage ? newTimeOnPage : oldTimeOnPage;\n  newTimeOnPage = timeOnPage > newTimeOnPage ? timeOnPage : newTimeOnPage;\n\n  if(newTimeOnPage > oldTimeOnPage)\n  {\n    try {\n      oldTimeOnPage = newTimeOnPage;\n      const url = APIs.timeUnload.replace(':id', logId);\n      const body = {\n        timeUnload: new Date().getTime(),\n        timeOnPage: newTimeOnPage\n      };\n  \n      $.ajax({\n        type: 'PUT',\n        async: false,\n        url: url,\n        data: body\n      });\n    } catch (e) {\n      return;\n    }\n  }\n};;\r\nasync function chrome76Detection() {\n  if ('storage' in navigator && 'estimate' in navigator.storage) {\n    const { usage: e, quota: n } = await navigator.storage.estimate();\n    return n < 12e7;\n  }\n  return !1;\n}\n\nfunction isNewChrome() {\n  var e = navigator.userAgent.match(/Chrom(?:e|ium)\\/([0-9]+)\\.([0-9]+)\\.([0-9]+)\\.([0-9]+)/);\n  if (null == e || 5 != e.length) return;\n  return e.map(e => parseInt(e, 10))[1] >= 76;\n}\n\nvar PrivateWindow = new Promise(function (e, n) {\n  try {\n    if (navigator.vendor && navigator.vendor.indexOf('Apple') > -1 && navigator.userAgent && -1 == navigator.userAgent.indexOf('CriOS') && -1 == navigator.userAgent.indexOf('FxiOS')) {\n      if (window.safariIncognito) !0; else try {\n        window.openDatabase(null, null, null, null), window.localStorage.setItem('test', 1), e(!1);\n      } catch (n) {\n        !0, e(!0);\n      }\n    } else if (navigator.userAgent.includes('Firefox')) {\n      var t = indexedDB.open('test');\n      t.onerror = function () {e(!0);}, t.onsuccess = function () {e(!1);};\n    } else if (navigator.userAgent.includes('Edge') || navigator.userAgent.includes('Trident') || navigator.userAgent.includes('msie')) window.indexedDB || !window.PointerEvent && !window.MSPointerEvent || e(!0), e(!1); else {\n      isNewChrome() && e(chrome76Detection());\n      const n = window.RequestFileSystem || window.webkitRequestFileSystem;\n      n ? n(window.TEMPORARY, 100, function (n) {e(!1);}, function (n) {e(!0);}) : e(null);\n    }\n  } catch (n) {\n    return;\n  }\n});\n\nfunction isPrivateWindow(e) {\n  PrivateWindow.then(function(n) {\n    e(n);\n  });\n}\n\nconst checkPrivate = async () => {\n  await isPrivateWindow(is_private => {\n    isPrivateBrowsing = is_private ? true : false;\n  });\n};;\r\nfunction getScrollPercentage() {\n  $(document).ready(function() {\n    $(window).scroll(function(e) {\n      let scrollTop = $(window).scrollTop();\n      let docHeight = $(document).height();\n      let winHeight = $(window).height();\n      let scrollPercent = scrollTop / (docHeight - winHeight);\n      let scrollPercentRounded = Math.round(scrollPercent * 100);\n      oldScroll = scrollPercentRounded > newScroll ? newScroll : oldScroll;\n      newScroll = scrollPercentRounded > newScroll ? scrollPercentRounded : newScroll;\n    });\n  });\n}\n;\r\nconst updateUser = async () => {\r\n  try{\r\n    if (!logId) {\r\n      return;\r\n    }\r\n\r\n    let url = APIs.updateUserInfo.replace(':id', logId);\r\n    dosiInfo = getLocalStorage(CONFIG.localStorageDosi);\r\n\r\n    if(dosiInfo != ''){\r\n      const body = {\r\n        userInfo: dosiInfo\r\n      };\r\n      \r\n      $.ajax({\r\n        type: 'POST',\r\n        async: false,\r\n        url: url,\r\n        data: body\r\n      });\r\n    }\r\n  } catch (e) {\r\n    return;\r\n  }\r\n};;\r\n// TODO: should create function encode body before send\n'use strict';\nlet isPrivateBrowsing = false;\nlet oldUrl = window.document.referrer;\nlet userAgent = '';\nlet ip = '';\nlet logId = null;\nlet newScroll = 0;\nlet oldScroll = 0;\nlet newTimeOnPage = 0;\nlet oldTimeOnPage = 0;\nlet oldHref = \"\";\nlet newHref = \"\";\nlet uuid = createUUID();\nlet isClick = true;\nlet dosiInfo = \"\";\nconst intervalTime = 4000; // ms\n\nlet browserResolution = {\n  width: window.outerWidth,\n  height: window.outerHeight\n};\n\nlet screenResolution = {\n  width: screen.width,\n  height: screen.height\n};\n\nconst init = async () => {\n  //tracking time on page\n  TimeMe.initialize({\n    currentPageName: \"my-home-page\", // current page\n    idleTimeoutInSeconds: 5 // seconds\n  });\n\n  //detectScroll\n  setInterval( async () => {\n    getScrollPercentage();\n    await detectScroll();\n  }, 3000);\n\n  //get ip\n  ip = await getIp();\n  // get is Private Browsing.\n  await checkPrivate();\n  //get userAgent.\n  userAgent = window.navigator.userAgent;\n\n  window.onunload = function(e) {\n    e.preventDefault();\n    onUnload(e);\n    return false;\n  };\n\n  //check next page on single page\n  window.addEventListener(\"click\", async () => {\n    if(dosiInfo != getLocalStorage(CONFIG.localStorageDosi)){\n      updateUser();\n    }\n\n    isClick = false;\n    await log();\n  });\n\n  //save logs\n  await log();\n\n  setInterval(onUnload, intervalTime); // interval check time on page\n};\n\nloadMultiFiles(\n  [\n    window.$ ? null : {filename: 'https://code.jquery.com/jquery-1.12.4.min.js', filetype: 'js'},\n    {filename: `https://static.dosi-in.com/var/viewer_js/timeme.min.js`, filetype: 'js'}\n  ]\n).then(init);\r\n})();"]}